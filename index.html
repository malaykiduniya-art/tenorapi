<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        body { background: #000; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; }
        img { max-width: 100vw; max-height: 100vh; object-fit: contain; }
        #status { color: #555; font-family: sans-serif; font-size: 12px; position: absolute; bottom: 10px; }
    </style>
</head>
<body>
    <div id="view"></div>
    <div id="status">Waiting for URL...</div>

    <script>
        async function fastLoad() {
            const params = new URLSearchParams(window.location.search);
            const target = params.get('getgif');
            const view = document.getElementById('view');
            const status = document.getElementById('status');

            if (!target) return;
            status.innerText = "Fetching...";

            try {
                // CORS.sh is faster and more reliable than AllOrigins in 2026
                // Get a free key at https://cors.sh/ if this hits a limit
                const proxy = "https://proxy.cors.sh/"; 
                
                const response = await fetch(proxy + target, {
                    headers: {
                        'x-cors-gratis': 'true' // This flag uses their free high-speed tier
                    }
                });

                const html = await response.text();
                
                // Optimized Regex: Finds the high-res GIF immediately
                const match = html.match(/<meta[^>]+property="og:image"[^>]+content="([^"]+\.gif)"/i);
                
                if (match) {
                    view.innerHTML = `<img src="${match[1]}" onload="document.getElementById('status').style.display='none'">`;
                } else {
                    status.innerText = "Error: GIF not found in page source.";
                }
            } catch (err) {
                status.innerText = "Proxy error. Try again in a moment.";
                console.error(err);
            }
        }
        fastLoad();
    </script>
</body>
</html>
